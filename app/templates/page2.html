{% extends "base.html" %}
{% block content %}

<h1>Player Game Stats</h1>
<p>Select a player to view a game log and summary.</p>

<form method="POST">
    <label for="player_name">Player:</label>
    <select name="player_name" id="player_name">
        {% for name in player_names %}
            <option value="{{ name }}" {% if name == selected_player %}selected{% endif %}>
                {{ name }}
            </option>
        {% endfor %}
    </select>
    <button type="submit">View Stats</button>
</form>

<hr>

<h2>{{ selected_player }} â€“ Season Summary</h2>
<ul>
    <li>Games Played: {{ summary.games }}</li>
    <li>Total Receptions: {{ summary.total_rec }}</li>
    <li>Total Yards: {{ summary.total_yards }}</li>
    <li>Total Touchdowns: {{ summary.total_td }}</li>
    <li>Average Yards per Game: {{ summary.avg_yards }}</li>
</ul>

<h2>Game Log</h2>
<table border="1" cellpadding="8">
    <tr>
        <th>Week</th>
        <th>Opponent</th>
        <th>Receptions</th>
        <th>Yards</th>
        <th>Touchdowns</th>
    </tr>
    {% for g in games %}
    <tr>
        <td>{{ g.week }}</td>
        <td>{{ g.opponent }}</td>
        <td>{{ g.rec }}</td>
        <td>{{ g.yards }}</td>
        <td>{{ g.td }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}